<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Christopher Robison: Blog Entry</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100;200;300;400;500;600;700;800;900&family=Titillium+Web:wght@200;300;400;600;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/fontawesome-free-6.4.0-web/css/all.min.css">
  <link rel="stylesheet" href="../assets/css/adminlte.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/sunburst.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/javascript.min.js"></script>
</head>
<body class="hold-transition iframe-mode">
<!-- Site wrapper -->
<div class="wrapper">
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active"><a href="blog/">Blog</a></li>
              <li class="breadcrumb-item active">Unraveling the Web</li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="blog">
          <h1 style="font-weight:900;">Unraveling the Web</h1>
          <h3>A Quick Look into JavaScript Web Workers for Asset Management</h3>
          <p><em>By Christopher Robison</em></p>
          <hr>
          <img width="640" src="../assets/img/webworkers.jpg" class="banner-pic"> 
          <hr>
          <p>JavaScript Web Workers have emerged as a game-changer for modern web applications. They open up a new dimension of concurrent programming, allowing us to run background tasks without interfering with the main thread. This is particularly useful for tasks like fetching and caching assets, improving overall user experience.</p>
<h2 id="what-are-web-workers">What Are Web Workers?</h2>
<p>Simply put, Web Workers are a simple means for web content to run scripts in background threads. The worker thread can perform tasks without affecting the user interface.</p>
<pre class="javascript"><code>// Initializing a Web Worker
const myWorker = new Worker(&quot;worker.js&quot;);</code></pre>
<p>In <code>worker.js</code>, you can run any code you want without worrying about blocking the UI.</p>
<h2 id="strategies-for-asset-management">Strategies for Asset Management</h2>
<ol type="1">
<li><strong>Cache-Fetch-Refresh</strong>: Cache assets and then refresh from the network.</li>
<li><strong>Network First</strong>: Try to get from the network, fall back to cache.</li>
<li><strong>Offline</strong>: Serve assets only from the cache, suitable for offline apps.</li>
</ol>
<h3 id="cache-fetch-refresh-example">Cache-Fetch-Refresh Example</h3>
<p>First, let’s create a simple worker <code>cacheWorker.js</code>.</p>
<pre class="javascript"><code>// cacheWorker.js
self.addEventListener(&#39;install&#39;, function(event) {
  event.waitUntil(
    caches.open(&#39;my-cache&#39;).then(function(cache) {
      return cache.addAll([
        &#39;/index.html&#39;,
        &#39;/styles.css&#39;,
        &#39;/script.js&#39;
      ]);
    })
  );
});

self.addEventListener(&#39;fetch&#39;, function(event) {
  event.respondWith(
    caches.match(event.request).then(function(cachedResponse) {
      return cachedResponse || fetch(event.request).then(function(networkResponse) {
        caches.open(&#39;my-cache&#39;).then(function(cache) {
          cache.put(event.request, networkResponse.clone());
        });
        return networkResponse;
      });
    })
  );
});</code></pre>
<p>Then in your main JavaScript file:</p>
<pre class="javascript"><code>// Initialize worker
const cacheWorker = new Worker(&#39;cacheWorker.js&#39;);</code></pre>
<h3 id="network-first-example">Network-First Example</h3>
<p>In the same <code>cacheWorker.js</code> file, you can modify the <code>fetch</code> event.</p>
<pre class="javascript"><code>self.addEventListener(&#39;fetch&#39;, function(event) {
  event.respondWith(
    fetch(event.request).catch(function() {
      return caches.match(event.request);
    })
  );
});</code></pre>
<h3 id="offline-only-example">Offline-Only Example</h3>
<p>For an offline-only strategy, you would only serve content that is in the cache.</p>
<pre class="javascript"><code>self.addEventListener(&#39;fetch&#39;, function(event) {
  event.respondWith(
    caches.match(event.request)
  );
});</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>Web Workers provide an elegant solution for managing assets in web applications, giving us multiple strategies to improve performance and user experience. From using a Cache-Fetch-Refresh pattern to offline-only models, the flexibility is immense. They allow us to offload such tasks from the main thread, making our web apps more robust and responsive.</p>
<p>So, the next time you’re looking to optimize your web app, consider giving Web Workers a spin!</p>

        </div>
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <footer class="main-footer">
    <div class="float-right d-none d-sm-block">
      <strong>Copyright &copy; 2023 <a href="https://cdr2.com">Christopher Robison</a>.</strong> All rights reserved.
    </div>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->

<!-- jQuery -->
<script src="../assets/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="../assets/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- AdminLTE App -->
<script src="../assets/js/adminlte.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
</html>
